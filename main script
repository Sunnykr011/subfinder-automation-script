#!/bin/bash

read -p "Enter Target Domain: " domain
echo "ğŸ” Finding Subdomains for $domain..."
subfinder -d $domain -o subs.txt

echo "ğŸ•µï¸ Finding Sub-Subdomains..."
cat subs.txt | subfinder -dL - | anew sub_subs.txt

echo "ğŸš€ Extracting Active URLs..."
cat sub_subs.txt | httpx -silent | anew live_subs.txt

echo "ğŸŒ Extracting URLs from Wayback, CommonCrawl, and Archive..."
cat live_subs.txt | gau | tee urls.txt

echo "ğŸ•·ï¸ Crawling for More Hidden Endpoints..."
gospider -S live_subs.txt -o crawl_output -d 2 -t 10 --js -q

echo "âš¡ Running FFUF for Directory BruteForce on Live Domains..."
cat live_subs.txt | ffuf -c -w /usr/share/seclists/Discovery/Web-Content/common.txt -u FUZZ | tee ffuf_results.txt

echo "âœ… Scan Complete! Check subs.txt, live_subs.txt, urls.txt, and ffuf_results.txt"
